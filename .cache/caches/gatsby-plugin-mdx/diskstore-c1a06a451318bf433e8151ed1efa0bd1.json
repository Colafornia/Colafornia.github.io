{"expireTime":9007200825609486000,"key":"gatsby-plugin-mdx-entire-payload-fa571fc70e0abc32a21ce33b32fbd6dd-","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"长久以来，我们一直都通过XMLHttpRequest(XHR)来执行异步请求，但它有很多缺陷与不便之处，W3C官方则推出了新的api ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":68,"offset":68},"indent":[]}},{"type":"inlineCode","value":"Fetch","position":{"start":{"line":2,"column":68,"offset":68},"end":{"line":2,"column":75,"offset":75},"indent":[]}},{"type":"text","value":"来替换它。","position":{"start":{"line":2,"column":75,"offset":75},"end":{"line":2,"column":80,"offset":80},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":80,"offset":80},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"XMLHttpRequest的缺陷","position":{"start":{"line":4,"column":5,"offset":86},"end":{"line":4,"column":22,"offset":103},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":82},"end":{"line":4,"column":22,"offset":103},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"先看一个典型的XHR例子：","position":{"start":{"line":6,"column":1,"offset":105},"end":{"line":6,"column":14,"offset":118},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":105},"end":{"line":6,"column":14,"offset":118},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"var xhr = new XMLHttpRequest();\nxhr.open('GET', url);\nxhr.responseType = 'json';\n\nxhr.onload = function() {\n  console.log(xhr.response);\n};\n\nxhr.onerror = function() {\n  console.log(\"Booo\");\n};\n\nxhr.send();","position":{"start":{"line":7,"column":1,"offset":119},"end":{"line":21,"column":4,"offset":343},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"可以看出，XHR是基于事件的异步模型，在设计上不符合分离原则，输入、输出和用事件来跟踪的状态混杂在一个对象里。我们必须创建实例来发送请求。相比于ES6发布的Promise，Generator，基于事件的模型是非常落后难用的。","position":{"start":{"line":22,"column":1,"offset":344},"end":{"line":22,"column":113,"offset":456},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":344},"end":{"line":22,"column":113,"offset":456},"indent":[]}},{"type":"jsx","value":"<!--more-->","position":{"start":{"line":24,"column":1,"offset":458},"end":{"line":24,"column":12,"offset":469},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Fetch Api的特点","position":{"start":{"line":26,"column":5,"offset":475},"end":{"line":26,"column":17,"offset":487},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":471},"end":{"line":26,"column":17,"offset":487},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"fetch api是基于","position":{"start":{"line":28,"column":1,"offset":489},"end":{"line":28,"column":13,"offset":501},"indent":[]}},{"type":"inlineCode","value":"Promise","position":{"start":{"line":28,"column":13,"offset":501},"end":{"line":28,"column":22,"offset":510},"indent":[]}},{"type":"text","value":"设计的，定义在BOM的","position":{"start":{"line":28,"column":22,"offset":510},"end":{"line":28,"column":33,"offset":521},"indent":[]}},{"type":"inlineCode","value":"window","position":{"start":{"line":28,"column":33,"offset":521},"end":{"line":28,"column":41,"offset":529},"indent":[]}},{"type":"text","value":"对象之中。建议阅读资料：","position":{"start":{"line":28,"column":41,"offset":529},"end":{"line":28,"column":53,"offset":541},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":489},"end":{"line":28,"column":53,"offset":541},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://fetch.spec.whatwg.org/","children":[{"type":"text","value":"Fetch Living Standard","position":{"start":{"line":30,"column":4,"offset":546},"end":{"line":30,"column":25,"offset":567},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":545},"end":{"line":30,"column":58,"offset":600},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":545},"end":{"line":30,"column":58,"offset":600},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":543},"end":{"line":30,"column":58,"offset":600},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch","children":[{"type":"text","value":"MDN: GlobalFetch 文档","position":{"start":{"line":31,"column":4,"offset":604},"end":{"line":31,"column":23,"offset":623},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":603},"end":{"line":31,"column":92,"offset":692},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":603},"end":{"line":31,"column":92,"offset":692},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":601},"end":{"line":31,"column":92,"offset":692},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://caniuse.com/#search=fetch","children":[{"type":"text","value":"caniuse 浏览器支持率","position":{"start":{"line":32,"column":4,"offset":696},"end":{"line":32,"column":18,"offset":710},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":695},"end":{"line":32,"column":53,"offset":745},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":695},"end":{"line":32,"column":53,"offset":745},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":693},"end":{"line":32,"column":53,"offset":745},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":543},"end":{"line":32,"column":53,"offset":745},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"http://o7ts2uaks.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-08-18%20%E4%B8%8B%E5%8D%8810.03.45.png","alt":"caniuse-fetch","position":{"start":{"line":34,"column":1,"offset":747},"end":{"line":34,"column":134,"offset":880},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":747},"end":{"line":34,"column":134,"offset":880},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"截止到2016年8月，Chrome43+，Firefox47+支持fetch api，对于低版本的浏览器，github上有许多","position":{"start":{"line":36,"column":1,"offset":882},"end":{"line":36,"column":64,"offset":945},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/camsong/fetch-ie8","children":[{"type":"text","value":"polyfill","position":{"start":{"line":36,"column":65,"offset":946},"end":{"line":36,"column":73,"offset":954},"indent":[]}}],"position":{"start":{"line":36,"column":64,"offset":945},"end":{"line":36,"column":112,"offset":993},"indent":[]}},{"type":"text","value":"可以使其兼容。","position":{"start":{"line":36,"column":112,"offset":993},"end":{"line":36,"column":119,"offset":1000},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":882},"end":{"line":36,"column":119,"offset":1000},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"一个典型的fetch例子：","position":{"start":{"line":38,"column":1,"offset":1002},"end":{"line":38,"column":14,"offset":1015},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1002},"end":{"line":38,"column":14,"offset":1015},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"fetch(url).then(function(response) {\n  return response.json();\n}).then(function(data) {\n  console.log(data);\n}).catch(function() {\n  console.log(\"Booo\");\n});","position":{"start":{"line":39,"column":1,"offset":1016},"end":{"line":47,"column":4,"offset":1191},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"用ES6的箭头函数重构之后：","position":{"start":{"line":49,"column":1,"offset":1193},"end":{"line":49,"column":15,"offset":1207},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1193},"end":{"line":49,"column":15,"offset":1207},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"fetch(url).then(r => r.json())\n  .then(data => console.log(data))\n  .catch(e => console.log(\"Booo\"))","position":{"start":{"line":50,"column":1,"offset":1208},"end":{"line":54,"column":4,"offset":1326},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"用还处于草案阶段的","position":{"start":{"line":56,"column":1,"offset":1328},"end":{"line":56,"column":10,"offset":1337},"indent":[]}},{"type":"link","title":null,"url":"http://es6.ruanyifeng.com/#docs/async#async函数","children":[{"type":"text","value":"ES7的async函数","position":{"start":{"line":56,"column":11,"offset":1338},"end":{"line":56,"column":22,"offset":1349},"indent":[]}}],"position":{"start":{"line":56,"column":10,"offset":1337},"end":{"line":56,"column":70,"offset":1397},"indent":[]}},{"type":"text","value":"再重构一下：","position":{"start":{"line":56,"column":70,"offset":1397},"end":{"line":56,"column":76,"offset":1403},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1328},"end":{"line":56,"column":76,"offset":1403},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"(async() => {\n  try {\n    var response = await fetch(url);\n    var data = await response.json();\n    console.log(data);\n  } catch (e) {\n    console.log(\"Booo\")\n  }\n})();","position":{"start":{"line":57,"column":1,"offset":1404},"end":{"line":67,"column":4,"offset":1591},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"就可以把一个异步的请求代码结构写得看起来跟同步请求差不多了。","position":{"start":{"line":68,"column":1,"offset":1592},"end":{"line":68,"column":31,"offset":1622},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":1592},"end":{"line":68,"column":31,"offset":1622},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"由此可见，","position":{"start":{"line":70,"column":1,"offset":1624},"end":{"line":70,"column":6,"offset":1629},"indent":[]}},{"type":"inlineCode","value":"Fetch","position":{"start":{"line":70,"column":6,"offset":1629},"end":{"line":70,"column":13,"offset":1636},"indent":[]}},{"type":"text","value":"基于Promise实现，支持async/await，语法更简洁。","position":{"start":{"line":70,"column":13,"offset":1636},"end":{"line":70,"column":45,"offset":1668},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":1624},"end":{"line":70,"column":45,"offset":1668},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"How to Use","position":{"start":{"line":72,"column":5,"offset":1674},"end":{"line":72,"column":15,"offset":1684},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":1670},"end":{"line":72,"column":15,"offset":1684},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"fetch()","position":{"start":{"line":74,"column":6,"offset":1691},"end":{"line":74,"column":13,"offset":1698},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":1686},"end":{"line":74,"column":13,"offset":1698},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"语法：","position":{"start":{"line":76,"column":1,"offset":1700},"end":{"line":76,"column":4,"offset":1703},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":1700},"end":{"line":76,"column":4,"offset":1703},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"fetch(input, init).then(function(response) { ... });","position":{"start":{"line":77,"column":1,"offset":1704},"end":{"line":79,"column":4,"offset":1774},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"参数：","position":{"start":{"line":80,"column":1,"offset":1775},"end":{"line":80,"column":4,"offset":1778},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":1775},"end":{"line":80,"column":4,"offset":1778},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"input","position":{"start":{"line":82,"column":3,"offset":1782},"end":{"line":82,"column":10,"offset":1789},"indent":[]}},{"type":"text","value":" :要获取的资源","position":{"start":{"line":82,"column":10,"offset":1789},"end":{"line":82,"column":18,"offset":1797},"indent":[]}}],"position":{"start":{"line":82,"column":3,"offset":1782},"end":{"line":82,"column":18,"offset":1797},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"字符串，资源的url","position":{"start":{"line":83,"column":5,"offset":1802},"end":{"line":83,"column":15,"offset":1812},"indent":[]}}],"position":{"start":{"line":83,"column":5,"offset":1802},"end":{"line":83,"column":15,"offset":1812},"indent":[]}}],"position":{"start":{"line":83,"column":3,"offset":1800},"end":{"line":83,"column":15,"offset":1812},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"一个","position":{"start":{"line":84,"column":5,"offset":1817},"end":{"line":84,"column":7,"offset":1819},"indent":[]}},{"type":"inlineCode","value":"Request","position":{"start":{"line":84,"column":7,"offset":1819},"end":{"line":84,"column":16,"offset":1828},"indent":[]}},{"type":"text","value":"对象（后面会介绍Request)","position":{"start":{"line":84,"column":16,"offset":1828},"end":{"line":84,"column":32,"offset":1844},"indent":[]}}],"position":{"start":{"line":84,"column":5,"offset":1817},"end":{"line":84,"column":32,"offset":1844},"indent":[]}}],"position":{"start":{"line":84,"column":3,"offset":1815},"end":{"line":84,"column":32,"offset":1844},"indent":[]}}],"position":{"start":{"line":83,"column":3,"offset":1800},"end":{"line":84,"column":32,"offset":1844},"indent":[3]}}],"position":{"start":{"line":82,"column":1,"offset":1780},"end":{"line":84,"column":32,"offset":1844},"indent":[1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"init","position":{"start":{"line":85,"column":3,"offset":1847},"end":{"line":85,"column":9,"offset":1853},"indent":[]}},{"type":"text","value":" :可选，是请求的配置项","position":{"start":{"line":85,"column":9,"offset":1853},"end":{"line":85,"column":21,"offset":1865},"indent":[]}}],"position":{"start":{"line":85,"column":3,"offset":1847},"end":{"line":85,"column":21,"offset":1865},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"method: 请求方式，GET/POST/PUT/DELETE等等","position":{"start":{"line":86,"column":5,"offset":1870},"end":{"line":86,"column":39,"offset":1904},"indent":[]}}],"position":{"start":{"line":86,"column":5,"offset":1870},"end":{"line":86,"column":39,"offset":1904},"indent":[]}}],"position":{"start":{"line":86,"column":3,"offset":1868},"end":{"line":86,"column":39,"offset":1904},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"headers: 请求头，可能是","position":{"start":{"line":87,"column":5,"offset":1909},"end":{"line":87,"column":21,"offset":1925},"indent":[]}},{"type":"inlineCode","value":" Headers 对象","position":{"start":{"line":87,"column":21,"offset":1925},"end":{"line":87,"column":34,"offset":1938},"indent":[]}},{"type":"text","value":"或者 ByteString","position":{"start":{"line":87,"column":34,"offset":1938},"end":{"line":87,"column":47,"offset":1951},"indent":[]}}],"position":{"start":{"line":87,"column":5,"offset":1909},"end":{"line":87,"column":47,"offset":1951},"indent":[]}}],"position":{"start":{"line":87,"column":3,"offset":1907},"end":{"line":87,"column":47,"offset":1951},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"body: 请求的Body信息","position":{"start":{"line":88,"column":5,"offset":1956},"end":{"line":88,"column":20,"offset":1971},"indent":[]}}],"position":{"start":{"line":88,"column":5,"offset":1956},"end":{"line":88,"column":20,"offset":1971},"indent":[]}}],"position":{"start":{"line":88,"column":3,"offset":1954},"end":{"line":88,"column":20,"offset":1971},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"mode: 请求的模式，cors/no-cors/same-origin","position":{"start":{"line":89,"column":5,"offset":1976},"end":{"line":89,"column":41,"offset":2012},"indent":[]}}],"position":{"start":{"line":89,"column":5,"offset":1976},"end":{"line":89,"column":41,"offset":2012},"indent":[]}}],"position":{"start":{"line":89,"column":3,"offset":1974},"end":{"line":89,"column":41,"offset":2012},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"credentials: 请求的credentials，omit/same-origin/include","position":{"start":{"line":90,"column":5,"offset":2017},"end":{"line":90,"column":57,"offset":2069},"indent":[]}}],"position":{"start":{"line":90,"column":5,"offset":2017},"end":{"line":90,"column":57,"offset":2069},"indent":[]}}],"position":{"start":{"line":90,"column":3,"offset":2015},"end":{"line":90,"column":57,"offset":2069},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"cache: 请求的缓存模式， default/no-store/reload/ no-cache/force-cache/only-if-cached","position":{"start":{"line":91,"column":5,"offset":2074},"end":{"line":91,"column":81,"offset":2150},"indent":[]}}],"position":{"start":{"line":91,"column":5,"offset":2074},"end":{"line":91,"column":81,"offset":2150},"indent":[]}}],"position":{"start":{"line":91,"column":3,"offset":2072},"end":{"line":91,"column":81,"offset":2150},"indent":[]}}],"position":{"start":{"line":86,"column":3,"offset":1868},"end":{"line":91,"column":81,"offset":2150},"indent":[3,3,3,3,3]}}],"position":{"start":{"line":85,"column":1,"offset":1845},"end":{"line":91,"column":81,"offset":2150},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":82,"column":1,"offset":1780},"end":{"line":91,"column":81,"offset":2150},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"返回值：返回一个","position":{"start":{"line":93,"column":1,"offset":2152},"end":{"line":93,"column":9,"offset":2160},"indent":[]}},{"type":"inlineCode","value":"Promise对象","position":{"start":{"line":93,"column":9,"offset":2160},"end":{"line":93,"column":20,"offset":2171},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":2152},"end":{"line":93,"column":20,"offset":2171},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Fetch引入了3个接口，它们分别是 ","position":{"start":{"line":95,"column":1,"offset":2173},"end":{"line":95,"column":20,"offset":2192},"indent":[]}},{"type":"inlineCode","value":"Headers","position":{"start":{"line":95,"column":20,"offset":2192},"end":{"line":95,"column":29,"offset":2201},"indent":[]}},{"type":"text","value":",","position":{"start":{"line":95,"column":29,"offset":2201},"end":{"line":95,"column":30,"offset":2202},"indent":[]}},{"type":"inlineCode","value":"Request","position":{"start":{"line":95,"column":30,"offset":2202},"end":{"line":95,"column":39,"offset":2211},"indent":[]}},{"type":"text","value":" 以及 ","position":{"start":{"line":95,"column":39,"offset":2211},"end":{"line":95,"column":43,"offset":2215},"indent":[]}},{"type":"inlineCode","value":"Response","position":{"start":{"line":95,"column":43,"offset":2215},"end":{"line":95,"column":53,"offset":2225},"indent":[]}},{"type":"text","value":" 。","position":{"start":{"line":95,"column":53,"offset":2225},"end":{"line":95,"column":55,"offset":2227},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":2173},"end":{"line":95,"column":55,"offset":2227},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Headers()","position":{"start":{"line":97,"column":6,"offset":2234},"end":{"line":97,"column":15,"offset":2243},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":2229},"end":{"line":97,"column":15,"offset":2243},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Headers()是一个可检索的多映射名值表，也可穿多维数组或者json","position":{"start":{"line":99,"column":1,"offset":2245},"end":{"line":99,"column":37,"offset":2281},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":2245},"end":{"line":99,"column":37,"offset":2281},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"var reqHeaders = new Headers();\nreqHeaders = new Headers({\n  \"Content-Length\": content.length.toString(),\n});\nreqHeaders.append(\"Content-Type\", \"text/plain\");\nconsole.log(reqHeaders.has(\"Content-Type\")); // true\nconsole.log(reqHeaders.has(\"Set-Cookie\")); // false","position":{"start":{"line":101,"column":1,"offset":2283},"end":{"line":109,"column":4,"offset":2564},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Headers()有一个","position":{"start":{"line":110,"column":1,"offset":2565},"end":{"line":110,"column":13,"offset":2577},"indent":[]}},{"type":"inlineCode","value":"guard","position":{"start":{"line":110,"column":13,"offset":2577},"end":{"line":110,"column":20,"offset":2584},"indent":[]}},{"type":"text","value":"属性来规定哪些参数是可写的。","position":{"start":{"line":110,"column":20,"offset":2584},"end":{"line":110,"column":34,"offset":2598},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":2565},"end":{"line":110,"column":34,"offset":2598},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Requset()","position":{"start":{"line":112,"column":6,"offset":2605},"end":{"line":112,"column":15,"offset":2614},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":2600},"end":{"line":112,"column":15,"offset":2614},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"语法，参数与fetch()类似：","position":{"start":{"line":114,"column":1,"offset":2616},"end":{"line":114,"column":17,"offset":2632},"indent":[]}}],"position":{"start":{"line":114,"column":1,"offset":2616},"end":{"line":114,"column":17,"offset":2632},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"var myRequest = new Request(input, init);","position":{"start":{"line":117,"column":1,"offset":2635},"end":{"line":117,"column":44,"offset":2678},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":2635},"end":{"line":117,"column":44,"offset":2678},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"其中可选的init配置项比fetch()多了几项(redirect/integrity/referrer)","position":{"start":{"line":119,"column":1,"offset":2680},"end":{"line":119,"column":54,"offset":2733},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":2680},"end":{"line":119,"column":54,"offset":2733},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Response()","position":{"start":{"line":121,"column":6,"offset":2740},"end":{"line":121,"column":16,"offset":2750},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":2735},"end":{"line":121,"column":16,"offset":2750},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"在fetch()的回调中我们可以获得一个","position":{"start":{"line":123,"column":1,"offset":2752},"end":{"line":123,"column":21,"offset":2772},"indent":[]}},{"type":"link","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/API/Response","children":[{"type":"text","value":"Response实例","position":{"start":{"line":123,"column":22,"offset":2773},"end":{"line":123,"column":32,"offset":2783},"indent":[]}}],"position":{"start":{"line":123,"column":21,"offset":2772},"end":{"line":123,"column":92,"offset":2843},"indent":[]}},{"type":"text","value":"。Response有很多实用的只读属性，比如Response.ok/Response.type/Response.headers等等。","position":{"start":{"line":123,"column":92,"offset":2843},"end":{"line":123,"column":159,"offset":2910},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":2752},"end":{"line":123,"column":159,"offset":2910},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"参考内容","position":{"start":{"line":126,"column":5,"offset":2917},"end":{"line":126,"column":9,"offset":2921},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":2913},"end":{"line":126,"column":9,"offset":2921},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch","children":[{"type":"text","value":"MDN: GlobalFetch 文档","position":{"start":{"line":127,"column":4,"offset":2925},"end":{"line":127,"column":23,"offset":2944},"indent":[]}}],"position":{"start":{"line":127,"column":3,"offset":2924},"end":{"line":127,"column":92,"offset":3013},"indent":[]}}],"position":{"start":{"line":127,"column":3,"offset":2924},"end":{"line":127,"column":92,"offset":3013},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":2922},"end":{"line":127,"column":92,"offset":3013},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://jakearchibald.com/2015/thats-so-fetch/","children":[{"type":"text","value":"Jake Archibald: That's so fetch","position":{"start":{"line":128,"column":4,"offset":3017},"end":{"line":128,"column":35,"offset":3048},"indent":[]}}],"position":{"start":{"line":128,"column":3,"offset":3016},"end":{"line":128,"column":84,"offset":3097},"indent":[]}}],"position":{"start":{"line":128,"column":3,"offset":3016},"end":{"line":128,"column":84,"offset":3097},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":3014},"end":{"line":128,"column":84,"offset":3097},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://hacks.mozilla.org/2015/03/this-api-is-so-fetching/","children":[{"type":"text","value":"Hacks Mozilla: This API is so Fetching","position":{"start":{"line":129,"column":4,"offset":3101},"end":{"line":129,"column":42,"offset":3139},"indent":[]}}],"position":{"start":{"line":129,"column":3,"offset":3100},"end":{"line":129,"column":103,"offset":3200},"indent":[]}}],"position":{"start":{"line":129,"column":3,"offset":3100},"end":{"line":129,"column":103,"offset":3200},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":3098},"end":{"line":129,"column":103,"offset":3200},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/camsong/blog/issues/2","children":[{"type":"text","value":"camsong: 传统Ajax 已死，Fetch 永生","position":{"start":{"line":130,"column":4,"offset":3204},"end":{"line":130,"column":31,"offset":3231},"indent":[]}}],"position":{"start":{"line":130,"column":3,"offset":3203},"end":{"line":130,"column":74,"offset":3274},"indent":[]}}],"position":{"start":{"line":130,"column":3,"offset":3203},"end":{"line":130,"column":74,"offset":3274},"indent":[]}}],"position":{"start":{"line":130,"column":1,"offset":3201},"end":{"line":130,"column":74,"offset":3274},"indent":[]}}],"position":{"start":{"line":127,"column":1,"offset":2922},"end":{"line":130,"column":74,"offset":3274},"indent":[1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"一些关于 fetch api 的基本设定\",\"date\":\"2016-08-22T16:24:00.000Z\",\"published\":true,\"cover\":\"./artiom-vallat-Gl9SxvjeNkc-unsplash.jpg\",\"coverAuthor\":\"Artiom Vallat\",\"coverOriginalUrl\":\"https://unsplash.com/photos/Gl9SxvjeNkc\"}","position":{"start":{"line":133,"column":1,"offset":3277},"end":{"line":133,"column":254,"offset":3530},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":133,"column":254,"offset":3530}}},"scopeImports":["import React from 'react'"],"scopeIdentifiers":["React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"一些关于 fetch api 的基本设定\",\n  \"date\": \"2016-08-22T16:24:00.000Z\",\n  \"published\": true,\n  \"cover\": \"./artiom-vallat-Gl9SxvjeNkc-unsplash.jpg\",\n  \"coverAuthor\": \"Artiom Vallat\",\n  \"coverOriginalUrl\": \"https://unsplash.com/photos/Gl9SxvjeNkc\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\u957F\\u4E45\\u4EE5\\u6765\\uFF0C\\u6211\\u4EEC\\u4E00\\u76F4\\u90FD\\u901A\\u8FC7XMLHttpRequest(XHR)\\u6765\\u6267\\u884C\\u5F02\\u6B65\\u8BF7\\u6C42\\uFF0C\\u4F46\\u5B83\\u6709\\u5F88\\u591A\\u7F3A\\u9677\\u4E0E\\u4E0D\\u4FBF\\u4E4B\\u5904\\uFF0CW3C\\u5B98\\u65B9\\u5219\\u63A8\\u51FA\\u4E86\\u65B0\\u7684api \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Fetch\"), \"\\u6765\\u66FF\\u6362\\u5B83\\u3002\"), mdx(\"h3\", {\n    \"id\": \"xmlhttprequest的缺陷\"\n  }, \"XMLHttpRequest\\u7684\\u7F3A\\u9677\"), mdx(\"p\", null, \"\\u5148\\u770B\\u4E00\\u4E2A\\u5178\\u578B\\u7684XHR\\u4F8B\\u5B50\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-javascript line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"var\"), \" xhr \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"new\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"XMLHttpRequest\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\nxhr\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"open\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'GET'\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" url\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\nxhr\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), \"responseType \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'json'\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\\nxhr\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function-variable function\"\n  }), \"onload\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"function\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n  console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"xhr\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), \"response\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\\nxhr\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function-variable function\"\n  }), \"onerror\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"function\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n  console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Booo\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\\nxhr\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"send\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u53EF\\u4EE5\\u770B\\u51FA\\uFF0CXHR\\u662F\\u57FA\\u4E8E\\u4E8B\\u4EF6\\u7684\\u5F02\\u6B65\\u6A21\\u578B\\uFF0C\\u5728\\u8BBE\\u8BA1\\u4E0A\\u4E0D\\u7B26\\u5408\\u5206\\u79BB\\u539F\\u5219\\uFF0C\\u8F93\\u5165\\u3001\\u8F93\\u51FA\\u548C\\u7528\\u4E8B\\u4EF6\\u6765\\u8DDF\\u8E2A\\u7684\\u72B6\\u6001\\u6DF7\\u6742\\u5728\\u4E00\\u4E2A\\u5BF9\\u8C61\\u91CC\\u3002\\u6211\\u4EEC\\u5FC5\\u987B\\u521B\\u5EFA\\u5B9E\\u4F8B\\u6765\\u53D1\\u9001\\u8BF7\\u6C42\\u3002\\u76F8\\u6BD4\\u4E8EES6\\u53D1\\u5E03\\u7684Promise\\uFF0CGenerator\\uFF0C\\u57FA\\u4E8E\\u4E8B\\u4EF6\\u7684\\u6A21\\u578B\\u662F\\u975E\\u5E38\\u843D\\u540E\\u96BE\\u7528\\u7684\\u3002\"), mdx(\"h3\", {\n    \"id\": \"fetch-api的特点\"\n  }, \"Fetch Api\\u7684\\u7279\\u70B9\"), mdx(\"p\", null, \"fetch api\\u662F\\u57FA\\u4E8E\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Promise\"), \"\\u8BBE\\u8BA1\\u7684\\uFF0C\\u5B9A\\u4E49\\u5728BOM\\u7684\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"window\"), \"\\u5BF9\\u8C61\\u4E4B\\u4E2D\\u3002\\u5EFA\\u8BAE\\u9605\\u8BFB\\u8D44\\u6599\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://fetch.spec.whatwg.org/\"\n  }), \"Fetch Living Standard\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch\"\n  }), \"MDN: GlobalFetch \\u6587\\u6863\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://caniuse.com/#search=fetch\"\n  }), \"caniuse \\u6D4F\\u89C8\\u5668\\u652F\\u6301\\u7387\"))), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"http://o7ts2uaks.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-08-18%20%E4%B8%8B%E5%8D%8810.03.45.png\",\n    \"alt\": \"caniuse-fetch\"\n  }))), mdx(\"p\", null, \"\\u622A\\u6B62\\u52302016\\u5E748\\u6708\\uFF0CChrome43+\\uFF0CFirefox47+\\u652F\\u6301fetch api\\uFF0C\\u5BF9\\u4E8E\\u4F4E\\u7248\\u672C\\u7684\\u6D4F\\u89C8\\u5668\\uFF0Cgithub\\u4E0A\\u6709\\u8BB8\\u591A\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/camsong/fetch-ie8\"\n  }), \"polyfill\"), \"\\u53EF\\u4EE5\\u4F7F\\u5176\\u517C\\u5BB9\\u3002\"), mdx(\"p\", null, \"\\u4E00\\u4E2A\\u5178\\u578B\\u7684fetch\\u4F8B\\u5B50\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-javascript line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"fetch\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"url\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"then\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"function\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token parameter\"\n  }), \"response\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"return\"), \" response\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"json\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"then\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"function\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token parameter\"\n  }), \"data\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n  console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"data\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"catch\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"function\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n  console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Booo\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u7528ES6\\u7684\\u7BAD\\u5934\\u51FD\\u6570\\u91CD\\u6784\\u4E4B\\u540E\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-javascript line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"fetch\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"url\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"then\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token parameter\"\n  }), \"r\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=>\"), \" r\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"json\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"then\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token parameter\"\n  }), \"data\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=>\"), \" console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"data\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"catch\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token parameter\"\n  }), \"e\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=>\"), \" console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Booo\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u7528\\u8FD8\\u5904\\u4E8E\\u8349\\u6848\\u9636\\u6BB5\\u7684\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://es6.ruanyifeng.com/#docs/async#async%E5%87%BD%E6%95%B0\"\n  }), \"ES7\\u7684async\\u51FD\\u6570\"), \"\\u518D\\u91CD\\u6784\\u4E00\\u4E0B\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-javascript line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"async\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=>\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"try\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"var\"), \" response \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"await\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"fetch\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"url\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"var\"), \" data \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"await\"), \" response\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"json\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n    console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"data\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"catch\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"e\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n    console\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Booo\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u5C31\\u53EF\\u4EE5\\u628A\\u4E00\\u4E2A\\u5F02\\u6B65\\u7684\\u8BF7\\u6C42\\u4EE3\\u7801\\u7ED3\\u6784\\u5199\\u5F97\\u770B\\u8D77\\u6765\\u8DDF\\u540C\\u6B65\\u8BF7\\u6C42\\u5DEE\\u4E0D\\u591A\\u4E86\\u3002\"), mdx(\"p\", null, \"\\u7531\\u6B64\\u53EF\\u89C1\\uFF0C\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Fetch\"), \"\\u57FA\\u4E8EPromise\\u5B9E\\u73B0\\uFF0C\\u652F\\u6301async/await\\uFF0C\\u8BED\\u6CD5\\u66F4\\u7B80\\u6D01\\u3002\"), mdx(\"h3\", {\n    \"id\": \"how-to-use\"\n  }, \"How to Use\"), mdx(\"h4\", {\n    \"id\": \"fetch\"\n  }, \"fetch()\"), mdx(\"p\", null, \"\\u8BED\\u6CD5\\uFF1A\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-javascript line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"fetch\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"input\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" init\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"then\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"function\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token parameter\"\n  }), \"response\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"...\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"\\u53C2\\u6570\\uFF1A\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"input\"), \" :\\u8981\\u83B7\\u53D6\\u7684\\u8D44\\u6E90\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5B57\\u7B26\\u4E32\\uFF0C\\u8D44\\u6E90\\u7684url\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u4E00\\u4E2A\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Request\"), \"\\u5BF9\\u8C61\\uFF08\\u540E\\u9762\\u4F1A\\u4ECB\\u7ECDRequest)\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"init\"), \" :\\u53EF\\u9009\\uFF0C\\u662F\\u8BF7\\u6C42\\u7684\\u914D\\u7F6E\\u9879\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"method: \\u8BF7\\u6C42\\u65B9\\u5F0F\\uFF0CGET/POST/PUT/DELETE\\u7B49\\u7B49\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"headers: \\u8BF7\\u6C42\\u5934\\uFF0C\\u53EF\\u80FD\\u662F\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \" Headers \\u5BF9\\u8C61\"), \"\\u6216\\u8005 ByteString\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"body: \\u8BF7\\u6C42\\u7684Body\\u4FE1\\u606F\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"mode: \\u8BF7\\u6C42\\u7684\\u6A21\\u5F0F\\uFF0Ccors/no-cors/same-origin\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"credentials: \\u8BF7\\u6C42\\u7684credentials\\uFF0Comit/same-origin/include\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"cache: \\u8BF7\\u6C42\\u7684\\u7F13\\u5B58\\u6A21\\u5F0F\\uFF0C default/no-store/reload/ no-cache/force-cache/only-if-cached\")))), mdx(\"p\", null, \"\\u8FD4\\u56DE\\u503C\\uFF1A\\u8FD4\\u56DE\\u4E00\\u4E2A\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Promise\\u5BF9\\u8C61\")), mdx(\"p\", null, \"Fetch\\u5F15\\u5165\\u4E863\\u4E2A\\u63A5\\u53E3\\uFF0C\\u5B83\\u4EEC\\u5206\\u522B\\u662F \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Headers\"), \",\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Request\"), \" \\u4EE5\\u53CA \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Response\"), \" \\u3002\"), mdx(\"h4\", {\n    \"id\": \"headers\"\n  }, \"Headers()\"), mdx(\"p\", null, \"Headers()\\u662F\\u4E00\\u4E2A\\u53EF\\u68C0\\u7D22\\u7684\\u591A\\u6620\\u5C04\\u540D\\u503C\\u8868\\uFF0C\\u4E5F\\u53EF\\u7A7F\\u591A\\u7EF4\\u6570\\u7EC4\\u6216\\u8005json\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-javascript line-numbers\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"var\"), \" reqHeaders \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"new\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"Headers\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\nreqHeaders \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token keyword\"\n  }), \"new\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token class-name\"\n  }), \"Headers\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"{\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Content-Length\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" content\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), \"length\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"toString\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"}\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\nreqHeaders\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"append\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Content-Type\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \",\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"text/plain\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \"\\nconsole\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"reqHeaders\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"has\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Content-Type\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"// true\"), \"\\nconsole\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"log\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), \"reqHeaders\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \".\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token function\"\n  }), \"has\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"(\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"\\\"Set-Cookie\\\"\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \")\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \";\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"// false\")), mdx(\"span\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"Headers()\\u6709\\u4E00\\u4E2A\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"guard\"), \"\\u5C5E\\u6027\\u6765\\u89C4\\u5B9A\\u54EA\\u4E9B\\u53C2\\u6570\\u662F\\u53EF\\u5199\\u7684\\u3002\"), mdx(\"h4\", {\n    \"id\": \"requset\"\n  }, \"Requset()\"), mdx(\"p\", null, \"\\u8BED\\u6CD5\\uFF0C\\u53C2\\u6570\\u4E0Efetch()\\u7C7B\\u4F3C\\uFF1A\"), mdx(\"p\", null, mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"var myRequest = new Request(input, init);\")), mdx(\"p\", null, \"\\u5176\\u4E2D\\u53EF\\u9009\\u7684init\\u914D\\u7F6E\\u9879\\u6BD4fetch()\\u591A\\u4E86\\u51E0\\u9879(redirect/integrity/referrer)\"), mdx(\"h4\", {\n    \"id\": \"response\"\n  }, \"Response()\"), mdx(\"p\", null, \"\\u5728fetch()\\u7684\\u56DE\\u8C03\\u4E2D\\u6211\\u4EEC\\u53EF\\u4EE5\\u83B7\\u5F97\\u4E00\\u4E2A\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Response\"\n  }), \"Response\\u5B9E\\u4F8B\"), \"\\u3002Response\\u6709\\u5F88\\u591A\\u5B9E\\u7528\\u7684\\u53EA\\u8BFB\\u5C5E\\u6027\\uFF0C\\u6BD4\\u5982Response.ok/Response.type/Response.headers\\u7B49\\u7B49\\u3002\"), mdx(\"h3\", {\n    \"id\": \"参考内容\"\n  }, \"\\u53C2\\u8003\\u5185\\u5BB9\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch\"\n  }), \"MDN: GlobalFetch \\u6587\\u6863\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://jakearchibald.com/2015/thats-so-fetch/\"\n  }), \"Jake Archibald: That's so fetch\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://hacks.mozilla.org/2015/03/this-api-is-so-fetching/\"\n  }), \"Hacks Mozilla: This API is so Fetching\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/camsong/blog/issues/2\"\n  }), \"camsong: \\u4F20\\u7EDFAjax \\u5DF2\\u6B7B\\uFF0CFetch \\u6C38\\u751F\"))));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"一些关于 fetch api 的基本设定\",\n  \"date\": \"2016-08-22T16:24:00.000Z\",\n  \"published\": true,\n  \"cover\": \"./artiom-vallat-Gl9SxvjeNkc-unsplash.jpg\",\n  \"coverAuthor\": \"Artiom Vallat\",\n  \"coverOriginalUrl\": \"https://unsplash.com/photos/Gl9SxvjeNkc\"\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`长久以来，我们一直都通过XMLHttpRequest(XHR)来执行异步请求，但它有很多缺陷与不便之处，W3C官方则推出了新的api `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Fetch`}</code>{`来替换它。`}</p>\n    <h3 {...{\n      \"id\": \"xmlhttprequest的缺陷\"\n    }}>{`XMLHttpRequest的缺陷`}</h3>\n    <p>{`先看一个典型的XHR例子：`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"javascript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-javascript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-javascript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`var`}</span>{` xhr `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`XMLHttpRequest`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\nxhr`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`open`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'GET'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` url`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\nxhr`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`responseType `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'json'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\nxhr`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`onload`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`function`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`xhr`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`response`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\nxhr`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`onerror`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`function`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Booo\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\nxhr`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`send`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`可以看出，XHR是基于事件的异步模型，在设计上不符合分离原则，输入、输出和用事件来跟踪的状态混杂在一个对象里。我们必须创建实例来发送请求。相比于ES6发布的Promise，Generator，基于事件的模型是非常落后难用的。`}</p>\n    {\n      /*more*/\n    }\n    <h3 {...{\n      \"id\": \"fetch-api的特点\"\n    }}>{`Fetch Api的特点`}</h3>\n    <p>{`fetch api是基于`}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Promise`}</code>{`设计的，定义在BOM的`}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`window`}</code>{`对象之中。建议阅读资料：`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://fetch.spec.whatwg.org/\"\n        }}>{`Fetch Living Standard`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch\"\n        }}>{`MDN: GlobalFetch 文档`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"http://caniuse.com/#search=fetch\"\n        }}>{`caniuse 浏览器支持率`}</a></li>\n    </ul>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"http://o7ts2uaks.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-08-18%20%E4%B8%8B%E5%8D%8810.03.45.png\",\n        \"alt\": \"caniuse-fetch\"\n      }}></img></p>\n    <p>{`截止到2016年8月，Chrome43+，Firefox47+支持fetch api，对于低版本的浏览器，github上有许多`}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/camsong/fetch-ie8\"\n      }}>{`polyfill`}</a>{`可以使其兼容。`}</p>\n    <p>{`一个典型的fetch例子：`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"javascript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-javascript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-javascript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`fetch`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`url`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`then`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`function`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`response`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` response`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`json`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`then`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`function`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`data`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`data`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`catch`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`function`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Booo\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`用ES6的箭头函数重构之后：`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"javascript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-javascript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-javascript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`fetch`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`url`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`then`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`r`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` r`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`json`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`then`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`data`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`data`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`catch`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`e`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Booo\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`用还处于草案阶段的`}<a parentName=\"p\" {...{\n        \"href\": \"http://es6.ruanyifeng.com/#docs/async#async%E5%87%BD%E6%95%B0\"\n      }}>{`ES7的async函数`}</a>{`再重构一下：`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"javascript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-javascript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-javascript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`try`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`var`}</span>{` response `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`await`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`fetch`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`url`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`var`}</span>{` data `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`await`}</span>{` response`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`json`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`data`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`catch`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`e`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Booo\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`就可以把一个异步的请求代码结构写得看起来跟同步请求差不多了。`}</p>\n    <p>{`由此可见，`}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Fetch`}</code>{`基于Promise实现，支持async/await，语法更简洁。`}</p>\n    <h3 {...{\n      \"id\": \"how-to-use\"\n    }}>{`How to Use`}</h3>\n    <h4 {...{\n      \"id\": \"fetch\"\n    }}>{`fetch()`}</h4>\n    <p>{`语法：`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"javascript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-javascript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-javascript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`fetch`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`input`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` init`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`then`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`function`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`response`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`...`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n    <p>{`参数：`}</p>\n    <ul>\n      <li parentName=\"ul\"><code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`input`}</code>{` :要获取的资源`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`字符串，资源的url`}</li>\n          <li parentName=\"ul\">{`一个`}<code parentName=\"li\" {...{\n              \"className\": \"language-text\"\n            }}>{`Request`}</code>{`对象（后面会介绍Request)`}</li>\n        </ul></li>\n      <li parentName=\"ul\"><code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`init`}</code>{` :可选，是请求的配置项`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`method: 请求方式，GET/POST/PUT/DELETE等等`}</li>\n          <li parentName=\"ul\">{`headers: 请求头，可能是`}<code parentName=\"li\" {...{\n              \"className\": \"language-text\"\n            }}>{` Headers 对象`}</code>{`或者 ByteString`}</li>\n          <li parentName=\"ul\">{`body: 请求的Body信息`}</li>\n          <li parentName=\"ul\">{`mode: 请求的模式，cors/no-cors/same-origin`}</li>\n          <li parentName=\"ul\">{`credentials: 请求的credentials，omit/same-origin/include`}</li>\n          <li parentName=\"ul\">{`cache: 请求的缓存模式， default/no-store/reload/ no-cache/force-cache/only-if-cached`}</li>\n        </ul></li>\n    </ul>\n    <p>{`返回值：返回一个`}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Promise对象`}</code></p>\n    <p>{`Fetch引入了3个接口，它们分别是 `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Headers`}</code>{`,`}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Request`}</code>{` 以及 `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Response`}</code>{` 。`}</p>\n    <h4 {...{\n      \"id\": \"headers\"\n    }}>{`Headers()`}</h4>\n    <p>{`Headers()是一个可检索的多映射名值表，也可穿多维数组或者json`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"javascript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-javascript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-javascript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`var`}</span>{` reqHeaders `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`Headers`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\nreqHeaders `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`Headers`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Content-Length\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`:`}</span>{` content`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`length`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`toString`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\nreqHeaders`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`append`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Content-Type\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"text/plain\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\nconsole`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`reqHeaders`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`has`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Content-Type\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// true`}</span>{`\nconsole`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`reqHeaders`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`has`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Set-Cookie\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// false`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`Headers()有一个`}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`guard`}</code>{`属性来规定哪些参数是可写的。`}</p>\n    <h4 {...{\n      \"id\": \"requset\"\n    }}>{`Requset()`}</h4>\n    <p>{`语法，参数与fetch()类似：`}</p>\n    <p><code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`var myRequest = new Request(input, init);`}</code></p>\n    <p>{`其中可选的init配置项比fetch()多了几项(redirect/integrity/referrer)`}</p>\n    <h4 {...{\n      \"id\": \"response\"\n    }}>{`Response()`}</h4>\n    <p>{`在fetch()的回调中我们可以获得一个`}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Response\"\n      }}>{`Response实例`}</a>{`。Response有很多实用的只读属性，比如Response.ok/Response.type/Response.headers等等。`}</p>\n    <h3 {...{\n      \"id\": \"参考内容\"\n    }}>{`参考内容`}</h3>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://developer.mozilla.org/zh-CN/docs/Web/API/GlobalFetch/fetch\"\n        }}>{`MDN: GlobalFetch 文档`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://jakearchibald.com/2015/thats-so-fetch/\"\n        }}>{`Jake Archibald: That's so fetch`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://hacks.mozilla.org/2015/03/this-api-is-so-fetching/\"\n        }}>{`Hacks Mozilla: This API is so Fetching`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/camsong/blog/issues/2\"\n        }}>{`camsong: 传统Ajax 已死，Fetch 永生`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}